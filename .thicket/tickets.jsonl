{"id":"MM-03vrhw","title":"township area icons should show","description":"right now township areas don't show their icons, they should. e.g. grasslands ahs an icon we should use.","type":"task","status":"open","priority":2,"labels":null,"assignee":"","created":"2026-02-03T07:22:14.700478Z","updated":"2026-02-03T07:22:14.700478Z"}
{"id":"MM-0ub230","title":"Move mining swing logic out of completeAction","description":"completeAction still contains a mining-specific branch (if action is MiningAction) that calls _completeMiningSwing. This could be moved into _processMiningForeground to fully decouple mining from the generic action completion path.","type":"","status":"closed","priority":3,"labels":null,"assignee":"","created":"2026-02-01T23:41:04.324089Z","updated":"2026-02-02T06:08:23.049307Z"}
{"id":"MM-0v2hv2","title":"Cap mastery pool XP during tick processing to prevent exceeding max","description":"addSkillMasteryXp in state.dart does not cap the pool XP at the maximum. During tick processing (consume_ticks.dart), mastery pool XP from action completions could theoretically exceed the max. Consider adding a cap in addSkillMasteryXp itself or at the call sites in consumeTicks.","type":"bug","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-01T06:08:44.778218Z","updated":"2026-02-01T06:08:44.778218Z"}
{"id":"MM-1h5wuf","title":"loot should empty when switching from combat","description":"loot seems to auto-empty at certain times in the real game.  I think switching from combat to another skill will do it (assuming there is space for hte loot).  you may need to check the wiki.","type":"task","status":"open","priority":2,"labels":null,"assignee":"","created":"2026-02-03T07:24:49.6918Z","updated":"2026-02-03T07:24:49.6918Z"}
{"id":"MM-1th6es","title":"Extract summoning-specific completion handler","description":"SummoningAction has unique behavior in completeAction (marks tablet as crafted). Consider extracting a _completeSummoningAction handler similar to mining/thieving/cooking for consistency.","type":"","status":"closed","priority":4,"labels":null,"assignee":"","created":"2026-02-01T18:01:37.667165Z","updated":"2026-02-02T06:08:23.054954Z"}
{"id":"MM-28ik14","title":"Apply slayer area effects during combat","description":"SlayerArea has an areaEffect field with modifiers that should be applied to the player during combat in that area. Currently these effects are parsed but not used in combat calculations.","type":"","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-01T05:59:11.152022Z","updated":"2026-02-02T01:13:53.343151Z"}
{"id":"MM-2p0wjj","title":"secret fishing area should not show until read the note","description":"There is a message in a bottle that upon reading it unlocks the secret fishing area.  Until then the area doesn't show up at all in the fishing display.\n\nI'm not sure how this is represented in the json, but there are presumably unlock items like this, message inthe bottle being one of them, that unlock various aspects of the game and we need to implement that idea, including message in the bottle.","type":"task","status":"open","priority":2,"labels":null,"assignee":"","created":"2026-02-03T07:17:02.45228Z","updated":"2026-02-03T07:17:02.45228Z"}
{"id":"MM-2zelt9","title":"ensure mastery tokens drop and can be redeemed","description":"They should not be possible to redeem if the would waste some of the mastery (e.g. go beyond 100%)","type":"","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-01T02:02:40.550981Z","updated":"2026-02-01T06:08:39.414917Z"}
{"id":"MM-40qqb6","title":"Add thieving drop integration test for NPC unique drops","description":"The existing thieving tests verify NPC unique drops are parsed, but there is no integration test that runs tick processing and confirms an NPC unique drop actually lands in inventory (similar to the existing Golbin loot table integration test).","type":"","status":"closed","priority":3,"labels":null,"assignee":"","created":"2026-02-01T02:40:45.948093Z","updated":"2026-02-03T07:23:14.979722Z"}
{"id":"MM-5a9rss","title":"Add tests for solver execution code","description":"step_helpers.dart (73%), execute_plan.dart (81.2%), plan.dart (84.6%), and consume_until.dart (88.9%) all have below 90% coverage. These are real logic files where tests would help find dead code and bugs.","type":"task","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-02T05:38:41.862972Z","updated":"2026-02-02T05:38:41.862972Z"}
{"id":"MM-5ulqrd","title":"examine consumeTicks for architectural simplicity/clarity","description":"Right now consumeTicks seems to have a log of skill-specific logic in it, rather than being then general loop.  Maybe that's right, but I think we should look to see if more clarity is possible.\n\nalso all 'as Foo' usage is code smell.","type":"task","status":"closed","priority":1,"labels":null,"assignee":"","created":"2026-02-01T00:51:11.663112Z","updated":"2026-02-01T00:56:52.226706Z"}
{"id":"MM-64wdq4","title":"make it possible to cut two trees at once","description":"at some poitn in the game (I'm not sure when) you get the ability to cut two trees at once.  we will need to change the UI to account for that, as well as support unlocking it at the appropraite time.","type":"task","status":"open","priority":2,"labels":null,"assignee":"","created":"2026-02-03T07:30:14.022743Z","updated":"2026-02-03T07:30:14.022743Z"}
{"id":"MM-6ff562","title":"Improve test coverage from 88% to 90%+","description":"Logic package test coverage is at 88.2% (11799/13370 lines). Biggest gaps: modifier_names.dart (353 uncovered, generated file), state.dart (209 uncovered), solver files, township_state.dart (39 uncovered). Need ~234 more lines covered to reach 90%.","type":"task","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-01T16:25:44.475201Z","updated":"2026-02-01T16:25:44.475201Z"}
{"id":"MM-7rz3fs","title":"Add spend-all mastery pool button to level multiple actions at once","description":"Allow spending mastery pool XP across all actions evenly, or spending enough to max a specific action. Currently only +1 level at a time.","type":"feature","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-01T03:20:59.792864Z","updated":"2026-02-01T03:20:59.792864Z"}
{"id":"MM-7ypm80","title":"Move mining-specific foreground logic (respawn, depletion) out of _processSkillForeground","description":"Mining has special foreground behavior: respawn waiting (blocking the foreground) and node depletion after completion. These are mixed into _processSkillForeground via 'is MiningAction' checks. Consider making mining use its own foreground processor like combat/agility do, or adding beforeProgress/afterComplete hooks to SkillAction.","type":"task","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-01T00:57:07.87118Z","updated":"2026-02-01T05:26:34.191672Z"}
{"id":"MM-80bc3u","title":"Add widget tests for mastery pool claim tokens dialog","description":"The _ClaimMasteryTokensDialog in mastery_pool.dart and the _ClaimMasteryTokenSection in bank.dart lack widget tests. Add Flutter widget tests that verify the claim buttons appear/disappear based on token availability, that dispatching works correctly, and that the dialog shows correct pool stats.","type":"task","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-01T17:46:16.949163Z","updated":"2026-02-01T17:46:16.949163Z"}
{"id":"MM-80gle9","title":"Test slayer area combat tick processing and monster progression","description":"startSlayerAreaCombat has tests for creation and error cases, but no integration test that processes ticks to verify combat actually progresses and completes within a slayer area context (similar to the slayer task tick-processing test). Add a test that starts slayer area combat and processes enough ticks to verify a kill completes.","type":"task","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-02T01:51:21.756406Z","updated":"2026-02-02T01:51:21.756406Z"}
{"id":"MM-81vuwx","title":"runecrafting has no action progress bar","description":"It shoudl largely work like any other crafting (e.g. crafting) in terms of layout.\nBut most importantly it has no progress while its running.","type":"","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-03T07:09:39.592486Z","updated":"2026-02-03T07:39:46.603962Z"}
{"id":"MM-8ddtio","title":"implement summon synergies","description":"https://wiki.melvoridle.com/w/Synergy\n\nJust the logic, we can do the UI pass in a separate ticket.\n\nimportantly when a would-be synergy is equipped, if the synergy does not apply to the current skill, don't consider the synergy, but do still consider potentially one of the parts applying to the currnet skill.","type":"","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-01T05:44:53.34659Z","updated":"2026-02-02T00:15:39.319199Z"}
{"id":"MM-8sk6e1","title":"display \"slayer areas\"","description":"Right now we have \"slayer tasks\" but in the real game it's also possible to singularly fight monsters within a \"slayer area\" (just like combat areas).  We don't seem to display those in the combat ui yet.  We should do so instead of the \"slayer task\" button and move the slayer task button slightly down.  It's important that we always check that the player meets the requirements of a slayer area to fight a monster there.\n\ngear changes that would cause the player to no longer meet requiremetns of the area must fail and display an error toast.","type":"","status":"closed","priority":1,"labels":null,"assignee":"","created":"2026-02-01T05:06:47.674333Z","updated":"2026-02-01T05:59:05.863493Z"}
{"id":"MM-a90q82","title":"impelment more statistics","description":"Right now we just have \"general\" but we probably want statistics for each skill, possibly in separate tabs or sections within the scrolling.\n\nAt minimum we should probalby add a \"total time doing X\" for each skill with most skills probalby just having the top-level time, but maybe some like thieving breaking it down into stun time vs. thieving time, etc.\n\nThis ticket can be about just starting this and you can file more tickets to add more stats as needed","type":"task","status":"open","priority":2,"labels":null,"assignee":"","created":"2026-02-03T07:23:53.38676Z","updated":"2026-02-03T07:23:53.38676Z"}
{"id":"MM-aq1udy","title":"implement auto-looting with amulet of looting","description":"the amulet of looting, while worn, should unlock\nautolooting behavior (where loot is immediately transfered to inventory if there is room, otherwise is left in loot)","type":"task","status":"open","priority":2,"labels":null,"assignee":"","created":"2026-02-03T07:35:57.339063Z","updated":"2026-02-03T07:35:57.339063Z"}
{"id":"MM-aqw4js","title":"Pass real ConditionContext during combat modifier resolution","description":"PlayerCombatStats.fromState() and combat tick processing call createCombatModifierProvider with ConditionContext.empty. This means conditional modifiers (e.g. bonus damage when enemy HP \u003c 50%) are never evaluated during combat. A real ConditionContext with player/enemy HP, attack types, etc. should be passed.","type":"","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-02T01:14:02.595307Z","updated":"2026-02-02T04:55:04.215842Z"}
{"id":"MM-b07suk","title":"Apply enemy-targeting slayer area effects during combat","description":"SlayerAreaEffect with target=Enemy (e.g. High Lands enemy healing, Toxic Swamps enemy poison) are parsed but not applied during combat. These require combat effect system support (DOT/healing over turns) which is separate from the modifier system.","type":"feature","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-02T01:13:59.604664Z","updated":"2026-02-02T01:13:59.604664Z"}
{"id":"MM-cfoffu","title":"Add tests for time_away and active_activity","description":"time_away.dart (85.3%) and active_activity.dart (82.7%) have significant uncovered code. These are core game logic files where coverage gaps may hide bugs.","type":"task","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-02T05:38:50.527058Z","updated":"2026-02-02T05:48:52.656536Z"}
{"id":"MM-cjs1qm","title":"township storage managemnet","description":"in the real game there is a 4th tab \"manage storage\" which allows both setting limits on a per-resource level as well as yeeting individual resources in various quantities 1, 10, 100, 1000, 10000, 100000.\n\nI think the game's ui for this is pretty poor, but we do probably need functionality liek this.  Suggestions as to how would be welcome, or just pick something and we'll try it.","type":"task","status":"open","priority":2,"labels":null,"assignee":"","created":"2026-02-03T07:21:07.436675Z","updated":"2026-02-03T07:21:07.436675Z"}
{"id":"MM-cpuepd","title":"Exclude generated files from coverage metrics","description":"modifier_names.dart is a generated file (GENERATED FILE - DO NOT EDIT) with 353 uncovered lines that drags overall coverage from 90.6% to 88.3%. Add a coverage exclusion or filter for generated files so coverage metrics reflect only hand-written code.","type":"task","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-01T17:46:18.1523Z","updated":"2026-02-01T17:46:18.1523Z"}
{"id":"MM-d7kjb4","title":"Add synergy UI display","description":"Show active synergy effects in the UI. The logic for synergy activation is implemented but the UI doesn't display which synergy is active or what bonuses it provides.","type":"feature","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-02T00:15:47.057966Z","updated":"2026-02-02T00:15:47.057966Z"}
{"id":"MM-d9vn07","title":"Extract StateUpdateBuilder into its own file to enable virtual methods on SkillAction","description":"StateUpdateBuilder is defined in consume_ticks.dart, which creates a circular dependency barrier preventing SkillAction subclasses from having virtual completion methods. Extracting StateUpdateBuilder into a separate file (e.g., state_update_builder.dart) would allow data-layer classes to accept it as a parameter, enabling true polymorphic dispatch for skill-specific tick processing logic.","type":"task","status":"closed","priority":1,"labels":null,"assignee":"","created":"2026-02-01T02:52:56.417582Z","updated":"2026-02-01T03:12:13.027781Z"}
{"id":"MM-dr2p64","title":"spending xp shoudl not give xp totals in text","description":"spending xp in the mastery pool spend dialog should show a progerss bar, but that bar should only show the progress ot the next level, rather than overall progress.  e.g. if it's at lvl 72 eactly is should show empty.\n\nbelow the bar it hsould show the level \u003cmastery symbol\u003e level  and then \"1,245 xp to level 7\"\n\nRight now the buttons are always +1, but instead we should have a selector at the top which alows selecting between +1, +5 and +10 and then buttons shoudl show how much they'll actually add (since there might only be 1 level left until cap, etc.)","type":"","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-03T07:14:47.708134Z","updated":"2026-02-03T15:02:22.553324Z"}
{"id":"MM-dxm1as","title":"implement the township trader","description":"There should be a trader tab in the township that allows exchaning township resoruces for player resources.  The exchange rates vary based on how many trading posts you've built, and you can't use the trader at all until you've built a single trading post.\n\nSee the wiki for more detail if needed","type":"task","status":"open","priority":2,"labels":null,"assignee":"","created":"2026-02-03T07:19:19.866199Z","updated":"2026-02-03T07:19:19.866199Z"}
{"id":"MM-eh0qcw","title":"Add tests for equipment_slot, currency, and cooking_state","description":"equipment_slot.dart (77.9%), currency.dart (79.6%), cooking_state.dart (84.3%) have uncovered code paths including toString, copyWith, fromId, and costFor methods. Tests would verify these and catch dead code.","type":"task","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-02T05:38:46.085167Z","updated":"2026-02-02T05:38:46.085167Z"}
{"id":"MM-elb025","title":"Pass real ConditionContext in UI combat screen","description":"The UI combat screen (ui/lib/src/screens/combat.dart) still uses ConditionContext.empty when calling createCombatModifierProvider and computePlayerStats. Should build a real context from current combat state for accurate display of conditional modifier effects.","type":"task","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-02T04:55:10.660099Z","updated":"2026-02-02T04:55:10.660099Z"}
{"id":"MM-fa52c7","title":"Confirm thieving drop rates from Melvor wiki or game source","description":"thieving.dart has TODO comments noting areaUniqueDropRate (1/500) and npcUniqueDropRate (1/500) need confirmation from the Melvor wiki or game source code.","type":"","status":"closed","priority":3,"labels":null,"assignee":"","created":"2026-02-01T02:40:41.312732Z","updated":"2026-02-02T06:23:54.555636Z"}
{"id":"MM-g3tez9","title":"Refactor _processSkillForeground mining/cooking type checks into switch dispatch","description":"The _processSkillForeground function still uses if-chain type checks for MiningAction (respawn waiting) and CookingAction (passive cooking ticks). These 'before progress' and 'during progress' hooks could be refactored into a switch expression similar to _completeSkillAction, or into beforeProgress/duringProgress virtual methods once StateUpdateBuilder is extractable.","type":"","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-01T02:52:59.219699Z","updated":"2026-02-01T16:34:13.619423Z"}
{"id":"MM-h1y48f","title":"Implement the ability to spend the mastery pool","description":"Will need to show all possible actions in a dialog and have a +1 button that spend mastery pool to raise that action to the next mastery level.  Button should be green if possible (without cxrosisng a boundary), yellow if it would cross a boundary (and show a warning dialog before doing so), and red if insuffient mastery pool points","type":"task","status":"closed","priority":1,"labels":null,"assignee":"","created":"2026-02-01T02:04:52.141631Z","updated":"2026-02-01T03:20:54.318624Z"}
{"id":"MM-h5triv","title":"Consume synergy tablet charges on action completion","description":"According to Melvor wiki, when a synergy triggers it consumes additional tablet charges beyond normal usage. The consumesOn field on synergy JSON data specifies when charges are consumed (e.g., PlayerSummonAttack, WoodcuttingAction). Currently charges are consumed per-tablet based on individual relevance, but synergy charge consumption is not implemented.","type":"","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-02T00:15:47.050973Z","updated":"2026-02-02T04:16:27.101374Z"}
{"id":"MM-h92ppy","title":"test that correct potion levels are produced","description":"potion levels are produced based on the mastery level of the potion recipe.  Test that we properly produce the correct level based on the mastery.","type":"task","status":"open","priority":2,"labels":null,"assignee":"","created":"2026-02-03T07:38:05.541653Z","updated":"2026-02-03T07:38:05.541653Z"}
{"id":"MM-h9zqo3","title":"Persist runecrafting selected action in state","description":"Like Summoning, runecrafting should persist the selected action to state so it survives page navigation. Currently uses local state which resets.","type":"feature","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-03T14:53:05.853448Z","updated":"2026-02-03T14:53:05.853448Z"}
{"id":"MM-hqeut0","title":"Improve xp.dart test coverage to 90%","description":"The xp.dart file is at 79.4% coverage. Add tests for actionTimeForMastery with more skill types (cooking, combat skills) and for edge cases in xpProgressForXp.","type":"","status":"open","priority":5,"labels":null,"assignee":"","created":"2026-02-03T07:23:37.474756Z","updated":"2026-02-03T07:23:37.474756Z"}
{"id":"MM-hw6djp","title":"Add coverage script to CI","description":"The coverage script (logic/tool/coverage.dart) should be run in CI with --check to enforce the 90% threshold automatically.","type":"feature","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-02T03:31:00.369472Z","updated":"2026-02-02T03:31:00.369472Z"}
{"id":"MM-j56daw","title":"Improve overall test coverage to 90%","description":"Overall logic package coverage is at 88.3%. Identify and add tests for the least-covered files to bring it above 90%.","type":"","status":"closed","priority":3,"labels":null,"assignee":"","created":"2026-02-01T16:34:28.780322Z","updated":"2026-02-01T16:34:28.780322Z"}
{"id":"MM-jd4qk0","title":"ensure potions is implemented","description":"","type":"task","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-01T02:02:00.944228Z","updated":"2026-02-01T05:44:44.935693Z"}
{"id":"MM-jhs99x","title":"add double-click to equip/swap in bank","description":"","type":"","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-01T06:01:24.9405Z","updated":"2026-02-02T03:25:43.807441Z"}
{"id":"MM-jtwxez","title":"implement prayers","description":"Right now we have no implementation of prayers.  We need some display of all the prayers wher eyou can turn them on, they need to unlock based on level, they need to deduct prayer points when used (based on their trigger) and they need to give prayer xp when used (when appropraite) and we need the ability to convert certain items (e.g. bury bones) into prayer points in the bank.  feel free to break into smaller tasks if needed","type":"task","status":"open","priority":2,"labels":null,"assignee":"","created":"2026-02-03T07:29:20.033239Z","updated":"2026-02-03T07:29:20.033239Z"}
{"id":"MM-jv1asi","title":"Improve coverage for solver_profile.dart and cache.dart","description":"solver_profile.dart (70.8%) and cache.dart (61.5%) are the only files below 90% coverage. Adding tests would close remaining coverage gaps.","type":"task","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-02T05:48:56.694646Z","updated":"2026-02-02T05:48:56.694646Z"}
{"id":"MM-jv5w1f","title":"use icons for combat area buttons","description":"combat areas: assets/media/skills/combat/combat.png\nslayer areas: assets/media/skills/slayer/slayer.png\ndungeons: assets/media/skills/combat/dungeon.png\nstrongholds: assets/media/skills/combat/strongholds.png\n\nthe slayer tasks button can just use the slayer image for now.","type":"task","status":"open","priority":2,"labels":null,"assignee":"","created":"2026-02-03T07:34:44.514646Z","updated":"2026-02-03T07:34:44.514646Z"}
{"id":"MM-kc5oq7","title":"Apply synergy conditional enemy modifiers","description":"ConditionalModifier has an optional enemyModifiers field. The current ModifierProvider synergy integration only applies condMod.modifiers but not condMod.enemyModifiers. If any synergy conditional modifiers have enemy modifiers, they would be ignored.","type":"feature","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-01T23:48:20.90726Z","updated":"2026-02-01T23:48:20.90726Z"}
{"id":"MM-l26vvp","title":"Remove mining depletion guard from _completeSkillAction","description":"After extracting mining respawn to _processMiningForeground, a MiningAction depletion guard still remains in _completeSkillAction to prevent stopAction from being called when a node depletes. Ideally _processMiningForeground would handle completion directly so the generic path has no mining awareness at all.","type":"","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-01T05:26:45.382385Z","updated":"2026-02-01T23:40:53.725256Z"}
{"id":"MM-la5nlc","title":"Add widget tests for ProductionActionDisplay","description":"ProductionActionDisplay is used across crafting, runecrafting, fletching, herblore, smithing, summoning, and woodcutting screens. Add Flutter widget tests to verify:\n- Progress bar appears when action is active\n- Progress bar is hidden when action is inactive\n- Correct state changes on button press\n- Locked vs unlocked display based on skill level","type":"task","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-03T07:40:42.143795Z","updated":"2026-02-03T07:40:42.143795Z"}
{"id":"MM-m950g2","title":"barbarian area is not allowed without barbarian gloves","description":"Thre is a barbarian gloves item (i think) that allows the barbarian fishing area, without that equipped you cant fish there, we're not enforcing that yet.","type":"task","status":"open","priority":2,"labels":null,"assignee":"","created":"2026-02-03T07:17:52.059725Z","updated":"2026-02-03T07:17:52.059725Z"}
{"id":"MM-med09a","title":"reciepes for runecrafting should appear in tabs","description":"Right now they're one big list, which is probably not what we want (and doesn't match the real game).","type":"","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-03T07:11:57.721591Z","updated":"2026-02-03T14:52:48.819103Z"}
{"id":"MM-nr885u","title":"Parse conditionalModifiers on summoning synergies","description":"SummoningSynergy.fromJson only parses 'modifiers' but ignores 'conditionalModifiers'. 5 synergies in Melvor data have PotionUsedCondition conditional modifiers (Bird Nest Potion, Perfect Swing Potion, Elemental Potion, Seeing Gold Potion, Controlled Heat Potion). These need to be parsed and applied through the modifier provider for synergy effects to work with active potions.","type":"","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-01T05:44:51.603532Z","updated":"2026-02-02T00:08:34.693011Z"}
{"id":"MM-o4qxme","title":"ensure we've added all thieving drops","description":"thieving has at least 3 levels of drops\nnpc\narea\nnpc unique\nmake sure all of them are working.","type":"task","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-01T00:49:30.290253Z","updated":"2026-02-01T02:40:32.483863Z"}
{"id":"MM-ojk4t7","title":"Add tests for slayer area combat and gear validation","description":"Add unit tests for: startSlayerAreaCombat, meetsSlayerAreaRequirements, unmetSlayerAreaRequirements, slayerAreaGearChangeError, and SlayerAreaCombatContext serialization.","type":"","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-01T05:59:20.411797Z","updated":"2026-02-02T01:50:56.570987Z"}
{"id":"MM-rcvq5f","title":"Move thieving/cooking completion out of _completeSkillAction","description":"Similar to the mining extraction, thieving (stun/death) and cooking (success/fail/passive) have their own 'is' checks in _completeSkillAction. Consider giving each their own completion handler or foreground processor to make _completeSkillAction truly generic.","type":"","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-01T05:26:41.275384Z","updated":"2026-02-01T18:01:23.64971Z"}
{"id":"MM-rsyczg","title":"Add combat effect group tracking to ConditionContext","description":"ConditionContext has an activeEffectGroups field for tracking combat effects like poison/burn DOTs, but nothing populates it yet. Combat effects (e.g. PoisonDOT) need to be tracked in combat state and passed through to the condition context for CombatEffectGroupCondition evaluation.","type":"task","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-02T04:55:17.178113Z","updated":"2026-02-02T04:55:17.178113Z"}
{"id":"MM-rzjmif","title":"Add deity change option to township settings","description":"Once a deity is selected in township, there is no UI affordance to change it. Consider adding a way to change deity selection from the town view, similar to clearWorship() which already exists in the state layer.","type":"feature","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-01T16:25:48.589268Z","updated":"2026-02-01T16:25:48.589268Z"}
{"id":"MM-s7e0id","title":"Exclude generated files from coverage calculation","description":"modifier_names.dart is a generated file (17.4% coverage, 351 uncovered lines) that drags overall coverage below 90%. The coverage tool should exclude files with 'GENERATED FILE' headers.","type":"task","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-02T15:49:54.512578Z","updated":"2026-02-02T15:49:54.512578Z"}
{"id":"MM-shz2p5","title":"diety confirm dialog should show diety or statue","description":"","type":"task","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-01T02:50:05.63686Z","updated":"2026-02-01T02:50:05.63686Z"}
{"id":"MM-t434kk","title":"don't show township tabs until diety chosen","description":"","type":"","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-01T02:49:36.793883Z","updated":"2026-02-01T16:25:32.806284Z"}
{"id":"MM-tdus9b","title":"Wire up mastery token claiming UI","description":"The claimMasteryToken and claimAllMasteryTokens methods exist in GlobalState but have no UI to trigger them. Add a button on the inventory mastery token item or the skill page to claim tokens.","type":"","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-01T03:21:01.650798Z","updated":"2026-02-01T17:46:03.03388Z"}
{"id":"MM-thxrhb","title":"Add integration test for thieving area drops","description":"Add an integration test that runs tick processing and confirms an area unique drop (like Crate of Basic Supplies from Golbin Village) actually lands in inventory. Similar to the existing NPC unique drop test at thieving_test.dart:718.","type":"","status":"open","priority":4,"labels":null,"assignee":"","created":"2026-02-03T07:23:32.613448Z","updated":"2026-02-03T07:23:32.613448Z"}
{"id":"MM-urmacj","title":"Convert completeAction mining/summoning type checks to switch","description":"The completeAction helper still has MiningAction and SummoningAction type checks (for _completeMiningSwing and markTabletCrafted). These could be moved into the switch in _completeSkillAction or into dedicated completion methods.","type":"","status":"closed","priority":3,"labels":null,"assignee":"","created":"2026-02-01T16:34:24.949242Z","updated":"2026-02-02T06:08:23.043021Z"}
{"id":"MM-vcv25z","title":"Add charge preservation modifier support for summoning tablets","description":"There is a TODO in state_update_builder.dart for adding charge preservation modifier support. When the player has modifiers that preserve summoning charges, there should be a chance to not consume a charge on action completion.","type":"feature","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-02T04:16:33.21142Z","updated":"2026-02-02T04:16:33.21142Z"}
{"id":"MM-w65bj5","title":"Test dungeon and shop purchase slayer area requirements","description":"unmetSlayerAreaRequirements has 4 requirement types (SlayerLevelRequirement, SlayerItemRequirement, SlayerDungeonRequirement, SlayerShopPurchaseRequirement). Current tests cover level and item requirements but not dungeon completion or shop purchase requirements. Add tests verifying these paths in both met and unmet states.","type":"task","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-02T01:51:17.155035Z","updated":"2026-02-02T01:51:17.155035Z"}
{"id":"MM-wtlo8o","title":"Add tests for potion charge preservation mechanic","description":"consumePotionCharge in state_update_builder.dart has charge preservation logic (line ~706-711) that checks potionChargePreservationChance modifier. This path has no dedicated tests. Should verify that charges are preserved when the random roll succeeds.","type":"task","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-01T05:44:56.623755Z","updated":"2026-02-01T05:44:56.623755Z"}
{"id":"MM-wwcn7q","title":"Improve test coverage for state.dart","description":"state.dart has 85.5% coverage with 209 missed lines. Add tests covering untested branches to help reach 90% overall coverage.","type":"task","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-01T18:01:37.674831Z","updated":"2026-02-01T18:01:37.674831Z"}
{"id":"MM-xphr1c","title":"Improve test coverage to meet 90% threshold","description":"Coverage is currently at 88.8%, below the 90% threshold. The coverage script with --check flag fails. Need to add tests across multiple files to bring coverage above 90%.","type":"","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-02T04:16:48.231734Z","updated":"2026-02-02T05:38:28.406385Z"}
{"id":"MM-y03cim","title":"Make SkillAction a sealed class for exhaustive switch dispatch","description":"SkillAction and its subclasses (ThievingAction, CookingAction, MiningAction, etc.) use runtime type checks via 'is' throughout consume_ticks.dart. Making SkillAction sealed would enable Dart's exhaustive pattern matching, so the compiler catches missing cases when a new skill subclass is added. This is a prerequisite for cleanly eliminating type-check dispatch in _completeSkillAction and _processSkillForeground.","type":"task","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-01T02:57:56.451252Z","updated":"2026-02-01T02:57:56.451252Z"}
{"id":"MM-y6hw1o","title":"Add slayer area combat context progress indicator","description":"When fighting in a slayer area, show a progress card similar to the dungeon/slayer task progress cards, indicating which slayer area the player is in.","type":"feature","status":"open","priority":3,"labels":null,"assignee":"","created":"2026-02-01T05:59:12.885474Z","updated":"2026-02-01T05:59:12.885474Z"}
{"id":"MM-yosyoc","title":"spend mastery pool dialog shoudl show icons","description":"Right now it just shows names bu tit should show icons for the rows.","type":"","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-03T07:15:29.385839Z","updated":"2026-02-03T15:07:23.494775Z"}
{"id":"MM-yyk25q","title":"write yourself a coverage script","description":"Right now the agent spends a while at the end of each PR computing coverage.  Presumably we can make that simpler by writing you a small script and checking it in","type":"","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-01T23:41:23.12875Z","updated":"2026-02-02T03:30:49.677601Z"}
{"id":"MM-zgcvy7","title":"Make NPC unique drop rate dynamic based on actual player stealth","description":"The NPC unique drop rate formula is (100 + stealth) / (10000 * perception) where stealth depends on thieving level, mastery, and bonuses. Currently we compute an estimated rate at parse time using a mid-game stealth of 140. This should be made dynamic at roll time, similar to how RareDrop uses rollWithContext(). This would give accurate drop rates across all player levels.","type":"feature","status":"closed","priority":4,"labels":null,"assignee":"","created":"2026-02-02T06:24:10.200312Z","updated":"2026-02-02T15:49:49.324875Z"}
{"id":"MM-znjec1","title":"Move skill-specific completion logic into SkillAction subclass methods","description":"Currently _processSkillForeground dispatches on 'is ThievingAction', 'is CookingAction', 'is MiningAction' etc. for completion handling. These could become virtual methods on SkillAction subclasses (e.g. onComplete, beforeProgress) to eliminate type checks and make adding new skill-specific behavior easier. The _completeSkillAction helper extracted in MM-5ulqrd is the main candidate.","type":"task","status":"closed","priority":2,"labels":null,"assignee":"","created":"2026-02-01T00:57:02.060658Z","updated":"2026-02-01T02:52:50.506386Z"}
{"id":"MM-zqd3tf","title":"Eliminate 'is Foo' type checks in completeAction for SummoningAction and MiningAction","description":"completeAction() in consume_ticks.dart uses 'is SummoningAction' to call markTabletCrafted and 'is MiningAction' for resource depletion. These post-completion hooks could be moved into the action subclasses via a virtual method.","type":"","status":"closed","priority":3,"labels":null,"assignee":"","created":"2026-02-01T00:57:13.408057Z","updated":"2026-02-02T06:08:23.036488Z"}
{"id":"MM-d1pmw08","from_ticket_id":"MM-y6hw1o","to_ticket_id":"MM-8sk6e1","type":"created_from","created":"2026-02-01T05:59:12.887051Z"}
{"id":"MM-d25zgh6","from_ticket_id":"MM-b07suk","to_ticket_id":"MM-28ik14","type":"created_from","created":"2026-02-02T01:13:59.606236Z"}
{"id":"MM-d2k5lca","from_ticket_id":"MM-y03cim","to_ticket_id":"MM-znjec1","type":"created_from","created":"2026-02-01T02:57:56.453145Z"}
{"id":"MM-d2oln3x","from_ticket_id":"MM-jv1asi","to_ticket_id":"MM-cfoffu","type":"created_from","created":"2026-02-02T05:48:56.696278Z"}
{"id":"MM-d37v91d","from_ticket_id":"MM-cfoffu","to_ticket_id":"MM-xphr1c","type":"created_from","created":"2026-02-02T05:38:50.529189Z"}
{"id":"MM-d3bhrzr","from_ticket_id":"MM-28ik14","to_ticket_id":"MM-8sk6e1","type":"created_from","created":"2026-02-01T05:59:11.153841Z"}
{"id":"MM-d3t36on","from_ticket_id":"MM-6ff562","to_ticket_id":"MM-t434kk","type":"created_from","created":"2026-02-01T16:25:44.476612Z"}
{"id":"MM-d47f15u","from_ticket_id":"MM-40qqb6","to_ticket_id":"MM-o4qxme","type":"created_from","created":"2026-02-01T02:40:45.949331Z"}
{"id":"MM-d4cbcbq","from_ticket_id":"MM-zqd3tf","to_ticket_id":"MM-5ulqrd","type":"created_from","created":"2026-02-01T00:57:13.409218Z"}
{"id":"MM-d4g9ret","from_ticket_id":"MM-d7kjb4","to_ticket_id":"MM-8ddtio","type":"created_from","created":"2026-02-02T00:15:47.059235Z"}
{"id":"MM-d55x4d2","from_ticket_id":"MM-aqw4js","to_ticket_id":"MM-28ik14","type":"created_from","created":"2026-02-02T01:14:02.596899Z"}
{"id":"MM-d5jd4s6","from_ticket_id":"MM-xphr1c","to_ticket_id":"MM-h5triv","type":"created_from","created":"2026-02-02T04:16:48.233632Z"}
{"id":"MM-d5k9zms","from_ticket_id":"MM-eh0qcw","to_ticket_id":"MM-xphr1c","type":"created_from","created":"2026-02-02T05:38:46.08741Z"}
{"id":"MM-d5wd02s","from_ticket_id":"MM-0v2hv2","to_ticket_id":"MM-2zelt9","type":"created_from","created":"2026-02-01T06:08:44.779742Z"}
{"id":"MM-d6ibfk2","from_ticket_id":"MM-0ub230","to_ticket_id":"MM-l26vvp","type":"created_from","created":"2026-02-01T23:41:04.325734Z"}
{"id":"MM-d8fqwot","from_ticket_id":"MM-ojk4t7","to_ticket_id":"MM-8sk6e1","type":"created_from","created":"2026-02-01T05:59:20.413468Z"}
{"id":"MM-d8iweqd","from_ticket_id":"MM-s7e0id","to_ticket_id":"MM-fa52c7","type":"created_from","created":"2026-02-02T15:49:54.51419Z"}
{"id":"MM-d8zo61m","from_ticket_id":"MM-j56daw","to_ticket_id":"MM-g3tez9","type":"created_from","created":"2026-02-01T16:34:28.781751Z"}
{"id":"MM-dam6gvi","from_ticket_id":"MM-cpuepd","to_ticket_id":"MM-tdus9b","type":"created_from","created":"2026-02-01T17:46:18.153719Z"}
{"id":"MM-dbkaygc","from_ticket_id":"MM-hqeut0","to_ticket_id":"MM-40qqb6","type":"created_from","created":"2026-02-03T07:23:37.477396Z"}
{"id":"MM-dbveu0b","from_ticket_id":"MM-vcv25z","to_ticket_id":"MM-h5triv","type":"created_from","created":"2026-02-02T04:16:33.213397Z"}
{"id":"MM-dc5pk6j","from_ticket_id":"MM-elb025","to_ticket_id":"MM-aqw4js","type":"created_from","created":"2026-02-02T04:55:10.661858Z"}
{"id":"MM-dcyz1b4","from_ticket_id":"MM-l26vvp","to_ticket_id":"MM-7ypm80","type":"created_from","created":"2026-02-01T05:26:45.383658Z"}
{"id":"MM-dd7l9yw","from_ticket_id":"MM-w65bj5","to_ticket_id":"MM-ojk4t7","type":"created_from","created":"2026-02-02T01:51:17.156565Z"}
{"id":"MM-deeijmq","from_ticket_id":"MM-80bc3u","to_ticket_id":"MM-tdus9b","type":"created_from","created":"2026-02-01T17:46:16.951199Z"}
{"id":"MM-dfh6jif","from_ticket_id":"MM-d9vn07","to_ticket_id":"MM-znjec1","type":"created_from","created":"2026-02-01T02:52:56.41927Z"}
{"id":"MM-dgr4xtz","from_ticket_id":"MM-thxrhb","to_ticket_id":"MM-40qqb6","type":"created_from","created":"2026-02-03T07:23:32.61572Z"}
{"id":"MM-dhg5wwt","from_ticket_id":"MM-wwcn7q","to_ticket_id":"MM-rcvq5f","type":"created_from","created":"2026-02-01T18:01:37.676087Z"}
{"id":"MM-dhoxj7b","from_ticket_id":"MM-nr885u","to_ticket_id":"MM-jd4qk0","type":"created_from","created":"2026-02-01T05:44:51.605038Z"}
{"id":"MM-dhyvzbr","from_ticket_id":"MM-hw6djp","to_ticket_id":"MM-yyk25q","type":"created_from","created":"2026-02-02T03:31:00.37114Z"}
{"id":"MM-diveq3p","from_ticket_id":"MM-urmacj","to_ticket_id":"MM-g3tez9","type":"created_from","created":"2026-02-01T16:34:24.95055Z"}
{"id":"MM-dktojx4","from_ticket_id":"MM-tdus9b","to_ticket_id":"MM-h1y48f","type":"created_from","created":"2026-02-01T03:21:01.652344Z"}
{"id":"MM-dlzy2tu","from_ticket_id":"MM-h9zqo3","to_ticket_id":"MM-med09a","type":"created_from","created":"2026-02-03T14:53:05.856385Z"}
{"id":"MM-dmaajmw","from_ticket_id":"MM-80gle9","to_ticket_id":"MM-ojk4t7","type":"created_from","created":"2026-02-02T01:51:21.758136Z"}
{"id":"MM-dnskavu","from_ticket_id":"MM-la5nlc","to_ticket_id":"MM-81vuwx","type":"created_from","created":"2026-02-03T07:40:42.145919Z"}
{"id":"MM-dp108b2","from_ticket_id":"MM-kc5oq7","to_ticket_id":"MM-nr885u","type":"created_from","created":"2026-02-01T23:48:20.908729Z"}
{"id":"MM-dpqef60","from_ticket_id":"MM-rcvq5f","to_ticket_id":"MM-7ypm80","type":"created_from","created":"2026-02-01T05:26:41.276981Z"}
{"id":"MM-dqz6arz","from_ticket_id":"MM-5a9rss","to_ticket_id":"MM-xphr1c","type":"created_from","created":"2026-02-02T05:38:41.865021Z"}
{"id":"MM-dr8q0xk","from_ticket_id":"MM-fa52c7","to_ticket_id":"MM-o4qxme","type":"created_from","created":"2026-02-01T02:40:41.314043Z"}
{"id":"MM-dsvdku7","from_ticket_id":"MM-zgcvy7","to_ticket_id":"MM-fa52c7","type":"created_from","created":"2026-02-02T06:24:10.202939Z"}
{"id":"MM-dtas0rb","from_ticket_id":"MM-h5triv","to_ticket_id":"MM-8ddtio","type":"created_from","created":"2026-02-02T00:15:47.052338Z"}
{"id":"MM-dv1leos","from_ticket_id":"MM-g3tez9","to_ticket_id":"MM-znjec1","type":"created_from","created":"2026-02-01T02:52:59.221641Z"}
{"id":"MM-dv4xpd8","from_ticket_id":"MM-rsyczg","to_ticket_id":"MM-aqw4js","type":"created_from","created":"2026-02-02T04:55:17.180001Z"}
{"id":"MM-dw0gu03","from_ticket_id":"MM-wtlo8o","to_ticket_id":"MM-jd4qk0","type":"created_from","created":"2026-02-01T05:44:56.625297Z"}
{"id":"MM-dw4f5g6","from_ticket_id":"MM-7rz3fs","to_ticket_id":"MM-h1y48f","type":"created_from","created":"2026-02-01T03:20:59.79429Z"}
{"id":"MM-dxo3uye","from_ticket_id":"MM-1th6es","to_ticket_id":"MM-rcvq5f","type":"created_from","created":"2026-02-01T18:01:37.668699Z"}
{"id":"MM-dy3rqzk","from_ticket_id":"MM-znjec1","to_ticket_id":"MM-5ulqrd","type":"created_from","created":"2026-02-01T00:57:02.072769Z"}
{"id":"MM-dyn7b7i","from_ticket_id":"MM-7ypm80","to_ticket_id":"MM-5ulqrd","type":"created_from","created":"2026-02-01T00:57:07.872277Z"}
{"id":"MM-dyydl4h","from_ticket_id":"MM-rzjmif","to_ticket_id":"MM-t434kk","type":"created_from","created":"2026-02-01T16:25:48.590741Z"}
